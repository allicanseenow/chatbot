!function(e){var n={};function s(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,n,a){s.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s(s.s=6)}({6:function(e,n,s){"use strict";var a=io.connect("/chat_infra"),t=io.connect("/chat_com"),o=(RegExp("room=(.+?)(&|$)").exec(location.search)||[,null])[1];o&&a.on("name_been_set",function(e){a.emit("join_room",{roomName:o,userName:e.name}),a.on("user_entered",function(e){$("#messages").append('<div class="systemMessage">'+e.userName+" has joined the room "+e.roomName+".</div>")}),a.on("message",function(e){var n=JSON.parse(e);$("#messages").append('<div class="'+n.type+'">'+n.message+"</div>")}),t.on("message",function(e){var n=JSON.parse(e);n&&n.username&&$("#messages").append('<div class="'+n.type+'"><span class="name">'+n.username+":</span> "+n.message+"</div>")}),$("#nameform").hide(),$("#messages").append('<div class="systemMessage">Hello '+e.name+"</div>"),$("#send").click(function(){var n={message:$("#message").val(),type:"userMessage",name:e&&e.name};t.send(JSON.stringify(n)),$("#message").val("")})}),$(function(){$("#setname").click(function(){a.emit("set_name",{name:$("#nickname").val()})})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2phdmFzY3JpcHRzL2NoYXQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNoYXRJbmZyYSIsImlvIiwiY29ubmVjdCIsImNoYXRDb20iLCJyb29tTmFtZSIsIlJlZ0V4cCIsImV4ZWMiLCJsb2NhdGlvbiIsInNlYXJjaCIsIm9uIiwiZGF0YSIsImVtaXQiLCJ1c2VyTmFtZSIsIiQiLCJhcHBlbmQiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsInVzZXJuYW1lIiwiaGlkZSIsImNsaWNrIiwibXNnIiwidmFsIiwic2VuZCIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFnQixFQUFBQyxJQUd0RHhCLEVBQUEyQixFQUFBLEdBSUEzQixJQUFBNEIsRUFBQSxvQ0NsRUEsSUFBSUMsRUFBWUMsR0FBR0MsUUFBUSxlQUN6QkMsRUFBVUYsR0FBR0MsUUFBUSxhQUduQkUsR0FHREMsT0FBTyxtQkFBd0JDLEtBQUtDLFNBQVNDLFVBQVcsQ0FBRyxPQUFPLEdBSWpFSixHQUVGSixFQUFVUyxHQUFHLGdCQUFpQixTQUFDQyxHQUM3QlYsRUFBVVcsS0FBSyxhQUFlUCxTQUFVQSxFQUFVUSxTQUFVRixFQUFLNUIsT0FFakVrQixFQUFVUyxHQUFHLGVBQWdCLFNBQUNDLEdBQzVCRyxFQUFFLGFBQWFDLE9BQU8sOEJBQWdDSixFQUFLRSxTQUFXLHdCQUEwQkYsRUFBS04sU0FBVyxhQUdsSEosRUFBVVMsR0FBRyxVQUFXLFNBQUNNLEdBQ3ZCLElBQUlMLEVBQU9NLEtBQUtDLE1BQU1GLEdBQ3RCRixFQUFFLGFBQWFDLE9BQU8sZUFBaUJKLEVBQUtRLEtBQU8sS0FBT1IsRUFBS0ssUUFBVSxZQUczRVosRUFBUU0sR0FBRyxVQUFXLFNBQUNNLEdBQ3JCLElBQUlMLEVBQU9NLEtBQUtDLE1BQU1GLEdBQ2xCTCxHQUFRQSxFQUFLUyxVQUNmTixFQUFFLGFBQWFDLE9BQU8sZUFBaUJKLEVBQUtRLEtBQU8sd0JBQTBCUixFQUFLUyxTQUFXLFlBQWNULEVBQUtLLFFBQVUsWUFJOUhGLEVBQUUsYUFBYU8sT0FDZlAsRUFBRSxhQUFhQyxPQUFPLG9DQUEyQ0osRUFBSzVCLEtBQU8sVUFDN0UrQixFQUFFLFNBQVNRLE1BQU0sV0FFZixJQUFJQyxHQUNGUCxRQUFTRixFQUFFLFlBQVlVLE1BQ3ZCTCxLQUFLLGNBQ0xwQyxLQUFNNEIsR0FBUUEsRUFBSzVCLE1BRXJCcUIsRUFBUXFCLEtBQUtSLEtBQUtTLFVBQVVILElBQzVCVCxFQUFFLFlBQVlVLElBQUksUUFLeEJWLEVBQUUsV0FDQUEsRUFBRSxZQUFZUSxNQUFNLFdBQ2xCckIsRUFBVVcsS0FBSyxZQUFhN0IsS0FBTStCLEVBQUUsYUFBYVUiLCJmaWxlIjoiY2hhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCIvLyBFc3RhYmxpc2ggYSBzaW5nbGUgc29ja2V0IGNvbm5lY3Rpb24sIG11bHRpcGxleCB0aGUgdHdvIG5hbWVzcGFjZXMgb3ZlciBpdC5cclxubGV0IGNoYXRJbmZyYSA9IGlvLmNvbm5lY3QoJy9jaGF0X2luZnJhJyksXHJcbiAgY2hhdENvbSA9IGlvLmNvbm5lY3QoJy9jaGF0X2NvbScpO1xyXG5cclxuLy8gbG9jYXRpb24uc2VhcmNoID09PSBxdWVyeVxyXG5sZXQgcm9vbU5hbWUgPSAoXHJcbiAgLy8gKC4rPyk6IE1hdGNoZXMgYW55IGNoYXJhY3Rlciwgb25lIG9yIG1hbnlcclxuICAvLyAmfCQ6IE1hdGNoZXMgZWl0aGVyICckJyBvciBlbmQgb2Ygc3RyaW5nICgkKVxyXG4gIChSZWdFeHAoJ3Jvb209JyArICcoLis/KSgmfCQpJykuZXhlYyhsb2NhdGlvbi5zZWFyY2gpIHx8IFssIG51bGxdKVsxXVxyXG4pO1xyXG5cclxuLy8gSWYgdGhlcmUgaXMgYSByb29tIG5hbWUgc3BlY2lmaWVkXHJcbmlmIChyb29tTmFtZSkge1xyXG4gIC8vIEhhbmRsZXIgYWZ0ZXIgdXNlciBoYXMgZW50ZXJlZCB0aGUgbmFtZSB0byBlc3RhYmxpc2ggYSBzZXNzaW9uXHJcbiAgY2hhdEluZnJhLm9uKCduYW1lX2JlZW5fc2V0JywgKGRhdGEpID0+IHtcclxuICAgIGNoYXRJbmZyYS5lbWl0KCdqb2luX3Jvb20nLCB7IHJvb21OYW1lOiByb29tTmFtZSwgdXNlck5hbWU6IGRhdGEubmFtZSB9KTtcclxuICAgIC8vIFNpZ25pZnkgb3RoZXIgdXNlcnMgRVhDRVBUIFRISVMgT05FIHRoYXQgdGhlcmUgaXMgYSBuZXcgdXNlciBoYXZpbmcgZW50ZXJlZCB0aGUgY2hhdCByb29tXHJcbiAgICBjaGF0SW5mcmEub24oJ3VzZXJfZW50ZXJlZCcsIChkYXRhKSA9PiB7XHJcbiAgICAgICQoJyNtZXNzYWdlcycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInN5c3RlbU1lc3NhZ2VcIj4nICsgZGF0YS51c2VyTmFtZSArICcgaGFzIGpvaW5lZCB0aGUgcm9vbSAnICsgZGF0YS5yb29tTmFtZSArICcuPC9kaXY+Jyk7XHJcbiAgICB9KTtcclxuICAgIC8vIFdlbGNvbWUgT05MWSBUSElTIG5ldyB1c2VyIHRvIHRoZSBjaGF0IGJveFxyXG4gICAgY2hhdEluZnJhLm9uKCdtZXNzYWdlJywgKG1lc3NhZ2UpID0+IHtcclxuICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xyXG4gICAgICAkKCcjbWVzc2FnZXMnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCInICsgZGF0YS50eXBlICsgJ1wiPicgKyBkYXRhLm1lc3NhZ2UgKyAnPC9kaXY+Jyk7XHJcbiAgICB9KTtcclxuICAgIC8vIFJlY2VpdmUgdGhlIG1lc3NhZ2UgYnkgQU5ZIFVTRVJcclxuICAgIGNoYXRDb20ub24oJ21lc3NhZ2UnLCAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEudXNlcm5hbWUpIHtcclxuICAgICAgICAkKCcjbWVzc2FnZXMnKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCInICsgZGF0YS50eXBlICsgJ1wiPjxzcGFuIGNsYXNzPVwibmFtZVwiPicgKyBkYXRhLnVzZXJuYW1lICsgJzo8L3NwYW4+ICcgKyBkYXRhLm1lc3NhZ2UgKyAnPC9kaXY+Jyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNuYW1lZm9ybScpLmhpZGUoKTtcclxuICAgICQoJyNtZXNzYWdlcycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInN5c3RlbU1lc3NhZ2VcIj4nICsgJ0hlbGxvICcgKyBkYXRhLm5hbWUgKyAnPC9kaXY+Jyk7XHJcbiAgICAkKCcjc2VuZCcpLmNsaWNrKCgpID0+IHtcclxuICAgICAgLy8gRG9uJ3QgZGVjbGFyZSB0aGlzIHRvIGJlIGRhdGEgPSB7IG5hbWU6IGRhdGEubmFtZSB9LCBhcyB0aGlzIGNhdXNlcyBhIG5hbWUgY29uZmxpY3RcclxuICAgICAgbGV0IG1zZyA9IHtcclxuICAgICAgICBtZXNzYWdlOiAkKCcjbWVzc2FnZScpLnZhbCgpLFxyXG4gICAgICAgIHR5cGU6J3VzZXJNZXNzYWdlJyxcclxuICAgICAgICBuYW1lOiBkYXRhICYmIGRhdGEubmFtZSxcclxuICAgICAgfTtcclxuICAgICAgY2hhdENvbS5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpO1xyXG4gICAgICAkKCcjbWVzc2FnZScpLnZhbCgnJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5cclxuJChmdW5jdGlvbigpe1xyXG4gICQoJyNzZXRuYW1lJykuY2xpY2soKCkgPT4ge1xyXG4gICAgY2hhdEluZnJhLmVtaXQoJ3NldF9uYW1lJywge25hbWU6ICQoJyNuaWNrbmFtZScpLnZhbCgpfSk7XHJcbiAgfSk7XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=