!function(e){var n={};function s(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,n,a){s.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s(s.s=7)}({7:function(e,n,s){"use strict";var a=io.connect("/chat_infra"),t=io.connect("/chat_com"),o=(RegExp("room=(.+?)(&|$)").exec(location.search)||[,null])[1];o&&(a.emit("join_room",{roomName:o}),a.on("name_been_set",function(e){a.on("user_entered",function(e){$("#messages").append('<div class="systemMessage">'+e.userName+" has joined the room "+e.roomName+".</div>")}),a.on("message",function(e){var n=JSON.parse(e);$("#messages").append('<div class="'+n.type+'">'+n.message+"</div>")}),t.on("message",function(e){var n=JSON.parse(e);n&&n.username&&$("#messages").append('<div class="'+n.type+'"><span class="name">'+n.username+":</span> "+n.message+"</div>")}),$("#nameform").hide(),$("#messages").append('<div class="systemMessage">Hello '+e.name+"</div>"),$("#send").click(function(){var n={message:$("#message").val(),type:"userMessage",name:e&&e.name};t.send(JSON.stringify(n)),$("#message").val("")})})),$(function(){$("#setname").click(function(){a.emit("set_name",{name:$("#nickname").val()})})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2phdmFzY3JpcHRzL2NoYXQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNoYXRJbmZyYSIsImlvIiwiY29ubmVjdCIsImNoYXRDb20iLCJyb29tTmFtZSIsIlJlZ0V4cCIsImV4ZWMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImVtaXQiLCJvbiIsImRhdGEiLCIkIiwiYXBwZW5kIiwidXNlck5hbWUiLCJtZXNzYWdlIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsInVzZXJuYW1lIiwiaGlkZSIsImNsaWNrIiwibXNnIiwidmFsIiwic2VuZCIsInN0cmluZ2lmeSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFnQixFQUFBQyxJQUd0RHhCLEVBQUEyQixFQUFBLEdBSUEzQixJQUFBNEIsRUFBQSxvQ0NsRUEsSUFBSUMsRUFBWUMsR0FBR0MsUUFBUSxlQUN6QkMsRUFBVUYsR0FBR0MsUUFBUSxhQUduQkUsR0FHREMsT0FBTyxtQkFBd0JDLEtBQUtDLFNBQVNDLFVBQVcsQ0FBRyxPQUFPLEdBSWpFSixJQUNGSixFQUFVUyxLQUFLLGFBQWVMLFNBQVVBLElBRXhDSixFQUFVVSxHQUFHLGdCQUFpQixTQUFDQyxHQUU3QlgsRUFBVVUsR0FBRyxlQUFnQixTQUFDQyxHQUM1QkMsRUFBRSxhQUFhQyxPQUFPLDhCQUFnQ0YsRUFBS0csU0FBVyx3QkFBMEJILEVBQUtQLFNBQVcsYUFHbEhKLEVBQVVVLEdBQUcsVUFBVyxTQUFDSyxHQUN2QixJQUFJSixFQUFPSyxLQUFLQyxNQUFNRixHQUN0QkgsRUFBRSxhQUFhQyxPQUFPLGVBQWlCRixFQUFLTyxLQUFPLEtBQU9QLEVBQUtJLFFBQVUsWUFHM0VaLEVBQVFPLEdBQUcsVUFBVyxTQUFDSyxHQUNyQixJQUFJSixFQUFPSyxLQUFLQyxNQUFNRixHQUNsQkosR0FBUUEsRUFBS1EsVUFDZlAsRUFBRSxhQUFhQyxPQUFPLGVBQWlCRixFQUFLTyxLQUFPLHdCQUEwQlAsRUFBS1EsU0FBVyxZQUFjUixFQUFLSSxRQUFVLFlBSTlISCxFQUFFLGFBQWFRLE9BQ2ZSLEVBQUUsYUFBYUMsT0FBTyxvQ0FBMkNGLEVBQUs3QixLQUFPLFVBQzdFOEIsRUFBRSxTQUFTUyxNQUFNLFdBRWYsSUFBSUMsR0FDRlAsUUFBU0gsRUFBRSxZQUFZVyxNQUN2QkwsS0FBSyxjQUNMcEMsS0FBTTZCLEdBQVFBLEVBQUs3QixNQUVyQnFCLEVBQVFxQixLQUFLUixLQUFLUyxVQUFVSCxJQUM1QlYsRUFBRSxZQUFZVyxJQUFJLFNBS3hCWCxFQUFFLFdBQ0FBLEVBQUUsWUFBWVMsTUFBTSxXQUNsQnJCLEVBQVVTLEtBQUssWUFBYTNCLEtBQU04QixFQUFFLGFBQWFXIiwiZmlsZSI6ImNoYXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwiLy8gRXN0YWJsaXNoIGEgc2luZ2xlIHNvY2tldCBjb25uZWN0aW9uLCBtdWx0aXBsZXggdGhlIHR3byBuYW1lc3BhY2VzIG92ZXIgaXQuXHJcbmxldCBjaGF0SW5mcmEgPSBpby5jb25uZWN0KCcvY2hhdF9pbmZyYScpLFxyXG4gIGNoYXRDb20gPSBpby5jb25uZWN0KCcvY2hhdF9jb20nKTtcclxuXHJcbi8vIGxvY2F0aW9uLnNlYXJjaCA9PT0gcXVlcnlcclxubGV0IHJvb21OYW1lID0gKFxyXG4gIC8vICguKz8pOiBNYXRjaGVzIGFueSBjaGFyYWN0ZXIsIG9uZSBvciBtYW55XHJcbiAgLy8gJnwkOiBNYXRjaGVzIGVpdGhlciAnJCcgb3IgZW5kIG9mIHN0cmluZyAoJClcclxuICAoUmVnRXhwKCdyb29tPScgKyAnKC4rPykoJnwkKScpLmV4ZWMobG9jYXRpb24uc2VhcmNoKSB8fCBbLCBudWxsXSlbMV1cclxuKTtcclxuXHJcbi8vIElmIHRoZXJlIGlzIGEgcm9vbSBuYW1lIHNwZWNpZmllZFxyXG5pZiAocm9vbU5hbWUpIHtcclxuICBjaGF0SW5mcmEuZW1pdCgnam9pbl9yb29tJywgeyByb29tTmFtZTogcm9vbU5hbWUgfSk7XHJcbiAgLy8gSGFuZGxlciBhZnRlciB1c2VyIGhhcyBlbnRlcmVkIHRoZSBuYW1lIHRvIGVzdGFibGlzaCBhIHNlc3Npb25cclxuICBjaGF0SW5mcmEub24oJ25hbWVfYmVlbl9zZXQnLCAoZGF0YSkgPT4ge1xyXG4gICAgLy8gU2lnbmlmeSBvdGhlciB1c2VycyBFWENFUFQgVEhJUyBPTkUgdGhhdCB0aGVyZSBpcyBhIG5ldyB1c2VyIGhhdmluZyBlbnRlcmVkIHRoZSBjaGF0IHJvb21cclxuICAgIGNoYXRJbmZyYS5vbigndXNlcl9lbnRlcmVkJywgKGRhdGEpID0+IHtcclxuICAgICAgJCgnI21lc3NhZ2VzJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3lzdGVtTWVzc2FnZVwiPicgKyBkYXRhLnVzZXJOYW1lICsgJyBoYXMgam9pbmVkIHRoZSByb29tICcgKyBkYXRhLnJvb21OYW1lICsgJy48L2Rpdj4nKTtcclxuICAgIH0pO1xyXG4gICAgLy8gV2VsY29tZSBPTkxZIFRISVMgbmV3IHVzZXIgdG8gdGhlIGNoYXQgYm94XHJcbiAgICBjaGF0SW5mcmEub24oJ21lc3NhZ2UnLCAobWVzc2FnZSkgPT4ge1xyXG4gICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XHJcbiAgICAgICQoJyNtZXNzYWdlcycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIicgKyBkYXRhLnR5cGUgKyAnXCI+JyArIGRhdGEubWVzc2FnZSArICc8L2Rpdj4nKTtcclxuICAgIH0pO1xyXG4gICAgLy8gUmVjZWl2ZSB0aGUgbWVzc2FnZSBieSBBTlkgVVNFUlxyXG4gICAgY2hhdENvbS5vbignbWVzc2FnZScsIChtZXNzYWdlKSA9PiB7XHJcbiAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlKTtcclxuICAgICAgaWYgKGRhdGEgJiYgZGF0YS51c2VybmFtZSkge1xyXG4gICAgICAgICQoJyNtZXNzYWdlcycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cIicgKyBkYXRhLnR5cGUgKyAnXCI+PHNwYW4gY2xhc3M9XCJuYW1lXCI+JyArIGRhdGEudXNlcm5hbWUgKyAnOjwvc3Bhbj4gJyArIGRhdGEubWVzc2FnZSArICc8L2Rpdj4nKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI25hbWVmb3JtJykuaGlkZSgpO1xyXG4gICAgJCgnI21lc3NhZ2VzJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic3lzdGVtTWVzc2FnZVwiPicgKyAnSGVsbG8gJyArIGRhdGEubmFtZSArICc8L2Rpdj4nKTtcclxuICAgICQoJyNzZW5kJykuY2xpY2soKCkgPT4ge1xyXG4gICAgICAvLyBEb24ndCBkZWNsYXJlIHRoaXMgdG8gYmUgZGF0YSA9IHsgbmFtZTogZGF0YS5uYW1lIH0sIGFzIHRoaXMgY2F1c2VzIGEgbmFtZSBjb25mbGljdFxyXG4gICAgICBsZXQgbXNnID0ge1xyXG4gICAgICAgIG1lc3NhZ2U6ICQoJyNtZXNzYWdlJykudmFsKCksXHJcbiAgICAgICAgdHlwZTondXNlck1lc3NhZ2UnLFxyXG4gICAgICAgIG5hbWU6IGRhdGEgJiYgZGF0YS5uYW1lLFxyXG4gICAgICB9O1xyXG4gICAgICBjaGF0Q29tLnNlbmQoSlNPTi5zdHJpbmdpZnkobXNnKSk7XHJcbiAgICAgICQoJyNtZXNzYWdlJykudmFsKCcnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4kKGZ1bmN0aW9uKCl7XHJcbiAgJCgnI3NldG5hbWUnKS5jbGljaygoKSA9PiB7XHJcbiAgICBjaGF0SW5mcmEuZW1pdCgnc2V0X25hbWUnLCB7bmFtZTogJCgnI25pY2tuYW1lJykudmFsKCl9KTtcclxuICB9KTtcclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==